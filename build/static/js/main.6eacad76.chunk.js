(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a(30),n=a.n(s),c=(a(38),a(12)),o=a(3),i=a(17),l=a(33),u=a(0),j=["component"],p=function(e){var t=e.component,a=Object(l.a)(e,j);return Object(u.jsx)(o.b,Object(i.a)(Object(i.a)({},a),{},{render:function(e){return localStorage.getItem("authToken")?Object(u.jsx)(t,Object(i.a)({},e)):Object(u.jsx)(o.a,{to:"/login"})}}))},d=a(5),b=a.n(d),m=a(10),h=a(2),O=a(11),f=a.n(O),x=(a(64),function(e){var t=e.history,a=Object(r.useState)(""),s=Object(h.a)(a,2),n=s[0],c=s[1],o=Object(r.useState)(""),i=Object(h.a)(o,2),l=i[0],j=i[1];Object(r.useEffect)((function(){localStorage.getItem("authToken")||t.push("/login");var e=function(){var e=Object(m.a)(b.a.mark((function e(){var t,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.prev=1,e.next=4,f.a.get("/api/private",t);case 4:a=e.sent,r=a.data,j(r.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),localStorage.removeItem("authToken"),c("You are not authorized please login");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]);return n?Object(u.jsx)("span",{className:"error-message",children:n}):Object(u.jsxs)("div",{className:"private-screen login-screen",children:[Object(u.jsx)("div",{className:"flex",children:l}),Object(u.jsx)("button",{className:"btn btn-primary flex",onClick:function(){localStorage.removeItem("authToken"),t.push("/login")},children:"Logout"})]})}),g=(a(65),function(e){var t=e.history,a=Object(r.useState)(""),s=Object(h.a)(a,2),n=s[0],o=s[1],i=Object(r.useState)(""),l=Object(h.a)(i,2),j=l[0],p=l[1],d=Object(r.useState)(""),O=Object(h.a)(d,2),x=O[0],g=O[1];Object(r.useEffect)((function(){localStorage.getItem("authToken")&&t.push("/")}),[t]);var v=function(){var e=Object(m.a)(b.a.mark((function e(a){var r,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,f.a.post("/api/auth/login",{email:n,password:j},r);case 5:s=e.sent,c=s.data,localStorage.setItem("authToken",c.token),t.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),g(e.t0.response.data.error),setTimeout((function(){g("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"login-screen",children:Object(u.jsxs)("form",{onSubmit:v,className:"login-screen__form",children:[Object(u.jsx)("h3",{className:"login-screen__title",children:"Login"}),x&&Object(u.jsx)("span",{className:"error-message",children:x}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(u.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",onChange:function(e){return o(e.target.value)},value:n,tabIndex:1})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsxs)("label",{htmlFor:"password",children:["Password:"," ",Object(u.jsx)(c.b,{to:"/forgotpassword",className:"login-screen__forgotpassword",tabIndex:4,children:"Forgot Password?"})]}),Object(u.jsx)("input",{type:"password",required:!0,id:"password",autoComplete:"true",placeholder:"Enter password",onChange:function(e){return p(e.target.value)},value:j,tabIndex:2})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",tabIndex:3,children:"Login"}),Object(u.jsxs)("span",{className:"login-screen__subtext",children:["Don't have an account? ",Object(u.jsx)(c.b,{to:"/register",children:"Register"})]})]})})}),v=(a(66),function(e){var t=e.history,a=Object(r.useState)(""),s=Object(h.a)(a,2),n=s[0],o=s[1],i=Object(r.useState)(""),l=Object(h.a)(i,2),j=l[0],p=l[1],d=Object(r.useState)(""),O=Object(h.a)(d,2),x=O[0],g=O[1],v=Object(r.useState)(""),w=Object(h.a)(v,2),N=w[0],y=w[1],S=Object(r.useState)(""),k=Object(h.a)(S,2),C=k[0],_=k[1],T=function(){var e=Object(m.a)(b.a.mark((function e(a){var r,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r={header:{"Content-Type":"application/json"}},x===N){e.next=7;break}return g(""),y(""),setTimeout((function(){_("")}),5e3),e.abrupt("return",_("Passwords do not match"));case 7:return e.prev=7,e.next=10,f.a.post("/api/auth/register",{username:n,email:j,password:x},r);case 10:s=e.sent,c=s.data,localStorage.setItem("authToken",c.token),t.push("/"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),_(e.t0.response.data.error),setTimeout((function(){_("")}),5e3);case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"register-screen",children:Object(u.jsxs)("form",{onSubmit:T,className:"register-screen__form",children:[Object(u.jsx)("h3",{className:"register-screen__title",children:"Register"}),C&&Object(u.jsx)("span",{className:"error-message",children:C}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"name",children:"Username:"}),Object(u.jsx)("input",{type:"text",required:!0,id:"name",placeholder:"Enter username",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(u.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:j,onChange:function(e){return p(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(u.jsx)("input",{type:"password",required:!0,id:"password",autoComplete:"true",placeholder:"Enter password",value:x,onChange:function(e){return g(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm Password:"}),Object(u.jsx)("input",{type:"password",required:!0,id:"confirmpassword",autoComplete:"true",placeholder:"Confirm password",value:N,onChange:function(e){return y(e.target.value)}})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"}),Object(u.jsxs)("span",{className:"register-screen__subtext",children:["Already have an account? ",Object(u.jsx)(c.b,{to:"/login",children:"Login"})]})]})})}),w=(a(67),function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)(""),c=Object(h.a)(n,2),o=c[0],i=c[1],l=Object(r.useState)(""),j=Object(h.a)(l,2),p=j[0],d=j[1],O=function(){var e=Object(m.a)(b.a.mark((function e(t){var r,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,f.a.post("/api/auth/forgotpassword",{email:a},r);case 5:n=e.sent,c=n.data,d(c.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),i(e.t0.response.data.error),s(""),setTimeout((function(){i("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"forgotpassword-screen",children:Object(u.jsxs)("form",{onSubmit:O,className:"forgotpassword-screen__form",children:[Object(u.jsx)("h3",{className:"forgotpassword-screen__title",children:"Forgot Password"}),o&&Object(u.jsx)("span",{className:"error-message",children:o}),p&&Object(u.jsx)("span",{className:"success-message",children:p}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{className:"forgotpassword-screen__subtext",children:"Please enter the email address you register your account with. We will send you reset password confirmation to this email"}),Object(u.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(u.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Email"})]})})}),N=(a(68),function(e){var t=e.match,a=Object(r.useState)(""),s=Object(h.a)(a,2),n=s[0],o=s[1],i=Object(r.useState)(""),l=Object(h.a)(i,2),j=l[0],p=l[1],d=Object(r.useState)(""),O=Object(h.a)(d,2),x=O[0],g=O[1],v=Object(r.useState)(""),w=Object(h.a)(v,2),N=w[0],y=w[1],S=function(){var e=Object(m.a)(b.a.mark((function e(a){var r,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r={headers:{"Content-Type":"application/json"}},n===j){e.next=7;break}return o(""),p(""),setTimeout((function(){g("")}),5e3),e.abrupt("return",g("Passwords don't match"));case 7:return e.prev=7,e.next=10,f.a.put("/api/auth/passwordreset/".concat(t.params.resetToken),{password:n},r);case 10:s=e.sent,c=s.data,y(c.data),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),g(e.t0.response.data.error),setTimeout((function(){g("")}),5e3);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"resetpassword-screen",children:Object(u.jsxs)("form",{onSubmit:S,className:"resetpassword-screen__form",children:[Object(u.jsx)("h3",{className:"resetpassword-screen__title",children:"Forgot Password"}),x&&Object(u.jsxs)("span",{className:"error-message",children:[x," "]}),N&&Object(u.jsxs)("span",{className:"success-message",children:[N," ",Object(u.jsx)(c.b,{to:"/login",children:"Login"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"password",children:"New Password:"}),Object(u.jsx)("input",{type:"password",required:!0,id:"password",placeholder:"Enter new password",autoComplete:"true",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm New Password:"}),Object(u.jsx)("input",{type:"password",required:!0,id:"confirmpassword",placeholder:"Confirm new password",autoComplete:"true",value:j,onChange:function(e){return p(e.target.value)}})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset Password"})]})})}),y=function(){return Object(u.jsx)(c.a,{children:Object(u.jsx)("div",{className:"app",children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(p,{exact:!0,path:"/",component:x}),Object(u.jsx)(o.b,{exact:!0,path:"/login",component:g}),Object(u.jsx)(o.b,{exact:!0,path:"/register",component:v}),Object(u.jsx)(o.b,{exact:!0,path:"/forgotpassword",component:w}),Object(u.jsx)(o.b,{exact:!0,path:"/passwordreset/:resetToken",component:N})]})})})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,70)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),n(e),c(e)}))};n.a.render(Object(u.jsx)(y,{}),document.getElementById("root")),S()}},[[69,1,2]]]);
//# sourceMappingURL=main.6eacad76.chunk.js.map